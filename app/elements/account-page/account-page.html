<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../bower_components/core-iconset-svg/core-iconset-svg.html">
<link rel="import" href="../../bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../cp-page/cp-right-drawer-page.html">
<link rel="import" href="../section-group/section-group.html">
<link rel="import" href="../coinport-api/api-my-profile.html">
<link rel="import" href="elements/account-sidebar.html">
<link rel="import" href="elements/profile-subpage.html">
<link rel="import" href="elements/assets-subpage.html">
<link rel="import" href="elements/deposit-subpage.html">
<link rel="import" href="elements/trades-subpage.html">
<link rel="import" href="elements/orders-subpage.html">

<polymer-element name="account-page" attributes="page,currencyId">
  <template>
    <link rel="stylesheet" href="account-page.css">

    <api-my-profile id="ajax" profile="{{profile}}" auto></api-my-profile>

    <cp-right-drawer-page backlink="/#/" label="{{M.myAccount}}" id="pages" page="{{page}}">

      <core-toolbar id="side-toolbar">
        <div flex></div>
        <a href="/#/markets">
          <core-tooltip label="{{M.tradeTooltip}}">
            <paper-icon-button noink icon="swap-horiz"></paper-icon-button>
          </core-tooltip>
        </a>
        </content>
      </core-toolbar>

      <account-sidebar id="sidebar" selected="{{page}}"></account-sidebar>
      <section page="assets">
        <assets-subpage active="{{page == 'assets'}}" profile="{{profile}}"></assets-subpage>
      </section>
      <section page="profile">
        <profile-subpage profile="{{profile}}"></profile-subpage>
      </section>
      <section page="deposit">
        <deposit-subpage active="{{page == 'deposit'}}" profile="{{profile}}" currencyId="{{currencyId}}"></deposit-subpage>
      </section>
      <section page="withdraw">
      </section>
      <section page="orders">
        <orders-subpage active="{{page == 'orders'}}"></orders-trades>
      </section>
      <section page="trades">
        <trades-subpage active="{{page == 'trades'}}"></trades-trades>
      </section>
    </cp-right-drawer-page>
  </template>
  <script src="account-page.js"></script>
</polymer-element>
