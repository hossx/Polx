<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../../bower_components/core-collapse/core-collapse.html">
<link rel="import" href="../../section-group/section-group.html">
<link rel="import" href="../../qr-code/qr-code.html">

<polymer-element name="profile-subpage" attributes="profile">
  <template>
    <link rel="stylesheet" href="profile-subpage.css">

    <section-group hasFooter="true" fit>
      <paper-shadow z="0">
        <div label>
          <h2>{{M.profile}}</h2>
        </div>
        <div no-padding class="keyvalues" vertical layout>
          <div horizontal layout>
            <div>{{M.userId}}</div>
            <div flex>{{profile.uid}}</div>
          </div>

          <div horizontal layout>
            <div>{{M.name}}</div>
            <div flex>{{profile.name}}</div>
          </div>

          <div horizontal layout>
            <div>Email</div>
            <div flex>{{profile.email}}</div>
          </div>

          <div horizontal layout>
            <div>{{M.cellphone}}</div>
            <div flex>{{profile.mobile}}</div>
          </div>

          <div horizontal layout>
            <div>{{M.apiTokens}}</div>
            <div flex vertical layout>
              <table>
                <thead>
                  <tr>
                    <td>{{M.token}}</td>
                    <td>{{M.secret}}</td>
                  </tr>
                </thead>
                <tbody>
                  <template repeat="{{pairs in profile.apiTokenPairs}}">
                    <tr>
                      <td>{{pairs[0]}}</td>
                      <td>{{pairs[1]}}</td>
                    </tr>
                  </template>
                </tbody>
              </table>
            </div>
          </div>

          <div horizontal layout>
            <div>{{M.twoFactorAuth}}</div>
            <div flex>
              <paper-toggle-button checked?={{profile.googleAuthEnabled}} on-change="{{toggleEnableGoogleAuth}}"></paper-toggle-button>
            </div>

          </div>
          <core-collapse id="enableGoogleAuthCollapse">
            <div>
              <div class="outer" vertical center layout>
                <div class="inner" vertical center layout>
                  <div>{{M.twoFactorScanInstruction1}}</div>
                  <div id="qrcode">
                    <qr-code data="fdsjafldjsaljflsadjf;lajfldsa" size="200" margin="1"></qr-code>
                  </div>
                  <div>{{twoFactorScanInstruction2}}</div>
                  <paper-input id="code" label="{{M.inputPlaceholder}}"></paper-input>
                  <div horizontal layout>
                    <paper-button on-tap="{{toggleEnableGoogleAuth}}">Cancel</paper-button>
                    <paper-button raised>Confirm</paper-button>
                  </div>
                </div>
              </div>
            </div>
          </core-collapse>

          <div horizontal layout>
            <div>{{M.cellphoneVerified}}[TODO]</div>
            <div flex>
              <paper-toggle-button checked?={{profile.mobileVerified}} disabled></paper-toggle-button>
            </div>
          </div>
        </div>
      </paper-shadow>

    </section-group>
  </template>

  <script src="profile-subpage.js"></script>
</polymer-element>
