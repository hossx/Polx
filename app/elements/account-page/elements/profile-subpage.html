<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../../bower_components/core-collapse/core-collapse.html">
<link rel="import" href="../../section-group/section-group.html">
<link rel="import" href="../../qr-code/qr-code.html">

<polymer-element name="profile-subpage" attributes="profile">
  <template>
    <link rel="stylesheet" href="profile-subpage.css">
    <section-group has-footer fit>
      <div label>Profile</div>
      <paper-shadow z="1">
        <div class="keyvalues" vertical layout>
          <div horizontal layout>
            <div>User ID</div>
            <div flex>{{profile.uid}}</div>
          </div>

          <div horizontal layout>
            <div>Name</div>
            <div flex>{{profile.name}}</div>
          </div>

          <div horizontal layout>
            <div>Cellphone Number</div>
            <div flex>{{profile.mobile}}</div>
          </div>

          <div horizontal layout>
            <div>Public Profile URL</div>
            <div flex><a href="/#/user/{{profile.uid}}">
            https://exchange.coinport.com/#/user/{{profile.uid}}</a>
            </div>
          </div>

          <div horizontal layout>
            <div>API Token</div>
            <div flex>{{profile.apiToken}}</div>
          </div>

          <div horizontal layout>
            <div>Two-factor Auth Enabled</div>
            <div flex>
              <paper-toggle-button checked?={{profile.googleAuthEnabled}} on-change="{{toggleEnableGoogleAuth}}"></paper-toggle-button>
            </div>

          </div>
          <core-collapse id="enableGoogleAuthCollapse">
            <div>
              <paper-shadow z="0">
                <div class="outer" vertical center layout>
                  <div class="inner" vertical center layout>
                    <div>Scan the following QR code with your Google Authenticator app.</div>
                    <qr-code data="fdsjafldjsaljflsadjf;lajfldsa" size="300"></qr-code>
                    <div>Input the 6-digit code (taggd with <span id="tag">COINPORT:{{profile.uid}}</span>) from your Google Authenticator
                      app , then click OK.</div>
                    <paper-input id="code" label="6-digit code"></paper-input>
                    <div horizontal layout>
                      <paper-button on-tap="{{toggleEnableGoogleAuth}}">Cancel</paper-button>
                      <paper-button raised>OK</paper-button>
                    </div>
                  </div>
                </div>
              </paper-shadow>
            </div>
          </core-collapse>

          <div horizontal layout>
            <div>Cellphone Verified</div>
            <div flex>
              <paper-toggle-button checked?={{profile.mobileVerified}} disabled></paper-toggle-button>
            </div>
          </div>
        </div>
      </paper-shadow>

    </section-group>
  </template>

  <script src="profile-subpage.js"></script>
</polymer-element>
