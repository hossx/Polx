<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../coinport-api/api-my-orders.html">

<polymer-element name="section-my-orders" attributes="marketId" vertical layout>
  <template>
    <link rel="stylesheet" href="section-my-orders.css">
    <api-my-orders id="ajax" orders="{{orders}}" marketId="{{marketId}}" auto></api-my-orders>

    <table class="dense">
      <thead>
        <tr>
          <td></td>
          <td>{{M.type}}</td>
          <td>{{M.price}}</td>
          <td>{{M.quantity}}</td>
          <td>{{M.total}}</td>
          <td>{{M.time}}</td>
          <td></td>
        </tr>
      </thead>
      <tbody>
        <template repeat="{{order,idx in orders}}">
          <tr class="{{order.operation}}">
            <td class="idx">{{idx+1}}</td>
            <td><span class="{{order.operation}}">{{M[order.operation]}}</span>
            </td>
            <td>
              <nice-number class="{{order.operation}}" v="{{order.price}}"></nice-number>
            </td>
            <td>
              <nice-number class="{{order.operation}}" v="{{order.amount}}"></nice-number>
            </td>
            <td>
              <nice-number class="{{order.operation}}" v="{{order.amount*order.price}}"></nice-number>
            </td>
            <td>
              {{order.created | formatTime}}
            </td>
            <td class="op">
              <template if="{{order.status == 0}}">
                未成交
                <paper-icon-button icon="cancel"></paper-icon-button>
              </template>
              <template if="{{order.status == 2}}">
                成交成交
                <paper-icon-button icon="cancel"></paper-icon-button>
              </template>
              <template if="{{order.status == 1}}">
                完全成交
              </template>
              <template if="{{order.status ==3}}">
                已经取消
              </template>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </template>
  <script src="section-my-orders.js"></script>
</polymer-element>
