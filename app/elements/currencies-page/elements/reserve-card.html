<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../better-chart-pie/better-chart-pie.html">
<link rel="import" href="../../cp-icons/crypto-icons.html">
<link rel="import" href="../../nice-number/nice-number.html">

<polymer-element name="reserve-card" attributes="currencyId,reserve">

  <template>
    <link rel="stylesheet" href="reserve-card.css">

    <paper-shadow id="shadow" z="0">
      <a href="/#/currency/{{currencyId}}">
        <div cross-fade id="box" vertical layout>
          <div id="head" horizontal center-justified layout>
            <core-icon icon="crypto:{{currency.id}}"></core-icon>
            <div>{{currency.fullName}}</div>
          </div>

          <div id="stats" center-justified vertical layout>
            <div id="general">
              <span class="l">{{M.reserveRatio}}:</span> <span class="v">{{reserveRatio | ratioFormat}}</span>
            </div>
            <div id="sub">
              <table>
                <tr>
                  <td class="l">{{M.hotWallet}}:</td>
                  <td class="v">{{hotRatio | ratioFormat}} =</td>
                  <td class="v">
                    <nice-number p="4" v="{{reserve[0]}}"></nice-number>
                  </td>
                  <td class="v">{{currency.unit}}</td>
                </tr>
                <tr>
                  <td class="l">{{M.coldWallet}}:</td>
                  <td class="v">{{coldRatio | ratioFormat}} =</td>
                  <td class="v">
                    <nice-number p="4" v="{{reserve[1]}}"></nice-number>
                  </td>
                  <td class="v">{{currency.unit}}</td>
                </tr>
                <tr>
                  <td class="l">{{M.userWallet}}:</td>
                  <td class="v">{{userRatio | ratioFormat}} =</td>
                  <td class="v">
                    <nice-number p="4" v="{{reserve[2]}}"></nice-number>
                  </td>
                  <td class="v">{{currency.unit}}</td>
                </tr>
                <tr>
                  <template if="{{isShort}}">
                    <td class="l s">{{M.shortage}}:</td>
                    <td class="v s">{{shortageRatio | ratioFormat}} =</td>
                    <td class="v s">
                      <nice-number p="4" v="{{shortage}}"></nice-number>
                    </td>
                    <td class="v s">{{currency.unit}}</td>
                  </template>
                </tr>
              </table>
            </div>
          </div>
          <div id="chart" center-justified horizontal layout>
            <better-chart-pie values="{{asset}}" colors="{{colors}}" labels="{{labels}}" width="{{220}}" height="{{100}}"></better-chart-pie>
          </div>
        </div>
      </a>
    </paper-shadow>

  </template>
  <script src="reserve-card.js"></script>

</polymer-element>
