<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../cp-icons/crypto-icons.html">
<link rel="import" href="../cp-footer/cp-footer.html">

<polymer-element name="cp-drawer-page" attributes="backlink,label,buttons,page">
  <template>
    <link rel="stylesheet" href="cp-drawer-page.css">

    <core-drawer-panel forceNarrow>

      <core-header-panel mode="seamed" id="drawer" drawer>
        <content select="#sidebar"></content>
      </core-header-panel>

      <core-header-panel mode="waterfall" main>
        <core-toolbar class="core-header" id="toolbar">
          <a href="{{backlink}}" id="backlink">
            <paper-icon-button icon="arrow-back"></paper-icon-button>
          </a>
          <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
          <div flex id="label">{{label}}</div>
          <template repeat="{{button,idx in buttons}}">
              <paper-button class="btn" idx="{{idx}}" active?="{{page == idx}}" on-tap="{{switchPage}}">
              {{button[1]}}
              </paper-button>
          </template>
        </core-toolbar>

        <div flex vertical layout main>
          <core-animated-pages fit id="pages" selected="{{page}}" transitions="slide-from-right">
            <content select="section"></content>
          </core-animated-pages>

          <paper-tabs id="nav-tabs" selected="{{page}}">
            <template repeat="{{button in buttons}}">
              <paper-tab>
                <core-icon icon="{{button[0]}}"></core-icon>
              </paper-tab>
            </template>
          </paper-tabs>
      </core-header-panel>
    </core-drawer-panel>
  </template>

  <script src="cp-drawer-page.js"></script>
</polymer-element>
