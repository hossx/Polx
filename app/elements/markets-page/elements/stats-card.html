<link rel="import" href="../../../bc/polymer/polymer.html">
<link rel="import" href="../../../bc/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bc/core-icon/core-icon.html">
<link rel="import" href="../../cp-icons/crypto-icons.html">

<polymer-element name="stats-card" attributes="marketId,ticker,source">

  <template>
    <link rel="stylesheet" href="stats-card.css">

    <div id="wrapper">
      <paper-shadow id="shadow" z="0">
        <a href="/#/marketpro/{{marketId}}">
          <div id="box" vertical center layout>
            <template if="{{source}}">
              <div id="source">{{source}}</div>
            </template>

            <div id="head" horizontal center-justified layout>
              <core-icon icon="{{market.currency.icon}}" style="color:{{market.currency.json.color}}"></core-icon>
              <div>{{market.name}}
                <template if="{{market.json.priceUnit != null}}">
                  <span id="unit">{{market.json.priceUnit}}</span>
                </template>
              </div>
            </div>

            <div id="stats" center-justified vertical layout>
              <div id="general" horizontal end layout>
                <div class="l">{{M.lastPrice}}: </div>
                <div class="v">
                  <nice-number v="{{ticker[0]}}" no-trailing-zeros></nice-number>
                </div>
              </div>
              <div id="sub">
                <div>
                  <span class="l">{{M.volume}}:</span><span class="v">{{ticker[3] | formatVolume}}</span>
                </div>
                <template if="{{!source}}">
                  <div>
                    <span class="l">{{M.change}}:</span><span class="v  {{changeClass}}">{{ticker[4] | formatChange}}</span>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </a>
      </paper-shadow>
    </div>

  </template>
  <script src="stats-card.js"></script>

</polymer-element>
