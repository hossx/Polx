<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../cp-globals/cp-globals.html">
<link rel="import" href="../cp-icons/crypto-icons.html">
<link rel="import" href="../cp-icons/cryptocode-icons.html">

<polymer-element name="stats-card" attributes="ticker">

  <template>
    <link rel="stylesheet" href="stats-card.css">

    <cp-globals id="globals"></cp-globals>
    <paper-shadow z="1">
      <a href="/#/market/{{marketId}}">
        <div cross-fade id="box" vertical center layout>
          <div self-start horizotal layout>
            <div id="market">
              <core-icon id="crypto-icon"></core-icon>
              {{marketId}}
              <template if="{{priceUnit != null}}">
                <span id="unit">{{priceUnit}}</span>
              </template>
            </div>
          </div>
          <div horizotal layout>
            <div id="currentPrice">{{ticker.p}}</div>
          </div>
          <div horizontal layout>
            <!--div class="info" vertical layout>
              <div>24H Low</div>
              <div>{{lowestPrice}}</div>
            </div>
            <div class="info" vertical layout>
              <div>24H High</div>
              <div>{{highestPrice}}</div>
            </div-->
            <div class="info" vertical layout>
              <div>24H Volume</div>
              <div>{{ticker.v}}</div>
            </div>
            <div class="info" vertical layout>
              <div>24H Change</div>
              <div>{{ticker.g}}</div>
            </div>
          </div>
        </div>
      </a>
    </paper-shadow>

  </template>
  <script>
    (function() {
      'use strict';
      Polymer({
        tickerChanged: function(o, n) {
          this.marketId = n.c + "-" + n.i;
          this.priceUnit = window.config.markets[this.marketId].json.priceUnit
        }
      });
    })();
  </script>

</polymer-element>
