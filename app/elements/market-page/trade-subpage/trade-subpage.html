<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../../cp-media-query/cp-media-query.html">
<link rel="import" href="../../section-group/section-group.html">
<link rel="import" href="elements/mycoin-card.html">
<link rel="import" href="elements/toppending-card.html">
<link rel="import" href="elements/action-card.html">
<link rel="import" href="elements/action-card-alt.html">
<link rel="import" href="elements/action-card-buy.html">
<link rel="import" href="elements/action-card-sell.html">

<polymer-element name="trade-subpage" attributes="market,active" horizontal center-justified layout>
  <template>
    <link rel="stylesheet" href="trade-subpage.css">

    <cp-media-query smallup="{{smallup}}"></cp-media-query>

    <core-ajax id="depthAjax" url="{{depthUrl}}" handleAs="json" response="{{response}}" error="{{error}}" auto></core-ajax>

    <section-group has-footer>
      <paper-shadow z="1">
        <div vertical layout>
          <toppending-card cross-fade bids="{{bids}}" asks="{{asks}}" market="{{market}}" smallup="{{smallup}}"></toppending-card>
          <div self-center><paper-spinner active?="{{bids.length==0 && asks.length==0}}"></paper-spinner></div>
          <div self-center class="comment">Refreshed every {{market.refreshInterval/1000}} seconds</div>
        </div>
      </paper-shadow>

      <paper-shadow z="1">
       <div label><h2>My {{market.currency.id}} Balance</h2></div>
        <mycoin-card market="{{market}}" smallup="{{smallup}}" selected="{{selected}}" total="{{11111111.1}}" available="{{121.1}}"
        locked="{{12.11212}}" pendingWithdrawal="{{121.12}}">
        </mycoin-card>
      </paper-shadow>

      <paper-shadow id="action-narrow" z="1">
        <action-card market="{{market}}">
        </action-card>
      </paper-shadow>

      <paper-shadow id="action-wide" z="1">
        <action-card-alt market="{{market}}">
        </action-card-alt>
      </paper-shadow>

    </section-group>
  </template>
  <script src="trade-subpage.js"></script>
</polymer-element>
