<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../../cp-media-query/cp-media-query.html">

<polymer-element name="toppending-card" attributes="market,active,smallup">
  <template>
    <link rel="stylesheet" href="toppending-card.css">

    <core-ajax id="ajax" url="{{depthUrl}}" handleAs="json" response="{{response}}" error="{{error}}" auto></core-ajax>

    <div id="container" smallup?={{smallup}} vertical?={{!smallup}} center horizontal?={{smallup}} layout>
      <div auto-vertical class="box" id="buys" vertical layout>
        <div class="label" self-center>TOP Buy <span class="target">({{market.id}})</span>
        </div>
        <table class="table">
          <tr>
            <th>Price
              <core-icon icon="arrow-drop-down"></core-icon>
            </th>
            <th>Quantity</th>
            <th>Total</th>
          </tr>
          <template repeat="{{item in bids}}">
            <tr>
              <td>{{item.p}}</td>
              <td>{{item.a}}</td>
              <td></td>
            </tr>
          </template>
        </table>
      </div>

      <div auto-vertical class="box" id="sells" vertical layout>
        <div class="label" self-center>TOP Sell <span class="target">({{market.id}})</span>
        </div>
        <table class="table">
          <tr>
            <th>Price
              <core-icon icon="arrow-drop-up">
            </th>
            <th>Quantity</th>
            <th>Total</th>
          </tr>
          <template repeat="{{item in asks}}">
            <tr>
              <td>{{item.p}}</td>
              <td>{{item.a}}</td>
              <td></td>
            </tr>
          </template>
        </table>
      </div>
    </div>
  </template>
  <script src="toppending-card.js"></script>
</polymer-element>
