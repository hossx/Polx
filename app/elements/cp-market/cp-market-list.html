<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-menu/core-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">

<polymer-element name="cp-market-list" vertical layout attributes="market,marketConfig">
<template>
  <link rel="stylesheet" href="cp-market-list.css">
  <paper-tabs valueattr="group" selected="{{selectedTab}}">
    <paper-tab group="BTC">BTC MARKETS</paper-tab>
    <paper-tab group="CNY">CNY MARKETS</paper-tab>
  </paper-tabs>

  <core-animated-pages valueattr="group" flex selected="{{selectedTab}}">
  	<section group="BTC">
  		<core-menu valueattr="hash" selected="{{market}}">
  		<template repeat="{{c in marketConfig.btcMarkets}}">
  			<paper-item noink hash="BTC-{{c}}"><a href="/#/market/BTC-{{c}}">BTC-{{c}} ({{marketConfig.currencies[c].label}})</a></paper-item>
  		</template>
  		</core-menu>
  	</section>
  	<section group="CNY">
  		<core-menu valueattr="hash" selected="{{market}}">
  		<template repeat="{{c in marketConfig.cnyMarkets}}">
        <paper-item noink hash="CNY-{{c}}"><a href="/#/market/CNY-{{c}}">CNY-{{c}} ({{marketConfig.currencies[c].label}})</a></paper-item>
      </template>
  		</core-menu>
  	</section>
  </core-animated-pages>
</template>

<script>

  Polymer({
    market: 'CNY-BTC',
    selectedTab: 'CNY',
    marketChanged: function(o, n) {
      this.selectedTab = this.market.substring(0, 3);
    }
  });

</script>
</polymer-element>
