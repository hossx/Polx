<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../cp-globals/cp-globals.html">
<link rel="import" href="../cp-icons/crypto-icons.html">
<link rel="import" href="../cp-media-query/cp-media-query.html">
<link rel="import" href="../cp-footer/cp-footer.html">
<link rel="import" href="elements/currency-sidebar.html">
<link rel="import" href="details-subpage/details-subpage.html">
<link rel="import" href="data-subpage/data-subpage.html">

<polymer-element name="currency-page" attributes="currencyId">
  <template>
    <link rel="stylesheet" href="currency-page.css">

    <cp-media-query smallup="{{smallup}}" small="{{small}}" mediumup="{{mediumup}}" medium="{{medium}}" large="{{large}}"></cp-media-query>
    <cp-globals id="globals"></cp-globals>
    <core-drawer-panel forceNarrow>

      <core-header-panel mode="seamed" id="drawer" drawer>
        <currency-sidebar currencyId="{{currencyId}}"></currency-sidebar>
      </core-header-panel>

      <core-header-panel mode="seamed" main>
        <core-toolbar class="core-header" id="toolbar">
          <a href="/#/trust">
            <paper-icon-button icon="arrow-back"></paper-icon-button>
          </a>
          <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
          <div flex id="currency-title">{{currency.fullName}}</div>
          <core-icon-button class="btn" smallup?="{{smallup}}" active?="{{tab === 0}}" on-tap="{{switchTab0}}" icon="info"></core-icon-button>
          <core-icon-button class="btn" smallup?="{{smallup}}" active?="{{tab === 1}}" on-tap="{{switchTab1}}" icon="cloud-download"></core-icon-button>
        </core-toolbar>

        <div id="canvas" flex vertical layout main>

          <core-animated-pages fit selected="{{tab}}" transitions="slide-from-right">
            <section>
              <details-subpage currency="{{currency}}" active="{{tab===0}}" fit></details-subpage>
            </section>
            <section>
              <data-subpage currency="{{currency}}" active="{{tab===1}}" fit></data-subpage>
            </section>
          </core-animated-pages>
          <paper-tabs id="nav-tabs" selected="{{tab}}" smallup?="{{smallup}}">
            <paper-tab>
              <core-icon icon="info"></core-icon>
            </paper-tab>
            <paper-tab>
              <core-icon icon="cloud-download"></core-icon>
            </paper-tab>
          </paper-tabs>
      </core-header-panel>
    </core-drawer-panel>
  </template>

  <script src="currency-page.js"></script>
</polymer-element>
