<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../../../bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="../../section-group/section-group.html">
<link rel="import" href="../../crypto-address/crypto-address.html">

<polymer-element name="reserve-subpage" attributes="currency" flex>
  <template>
    <link rel="stylesheet" href="reserve-subpage.css">

    <core-ajax url="{{detailsUrl}}" response="{{details}}" auto></core-ajax>
    <section-group has-footer>
      <paper-shadow>
        <div label><h2>Reserve Details</h2></div>
        <div class="card" vertical center layout>
          <table>
            <thead>
              <tr>
                <th nowrap>{{currency.id}} Address</th>
                <th>Balance</th>
                <th>Type</th>
                <th nowrap>Signed Message</th>
                <th>Signature</th>
              </tr>
            </thead>
            <tbody>
              <template repeat="{{group in details.reserves}}">
                <template repeat="{{data,idx in group.addresses}}">
                  <tr>
                    <td>
                      <crypto-address class="{{group.label}}" currency="{{currency}}" addr="{{data[0]}}"></crypto-address>
                    </td>
                    <td>{{data[1]}}</td>
                    <td><span class="{{group.label}}">{{group.label}}</span>
                    </td>
                    <td>
                      <div class="msg">{{data[2]}}</div>
                    </td>
                    <td>
                      <div class="sig">{{data[3]}}</div>
                    </td>
                  </tr>
                </template>
              </template>
            </tbody>
          </table>
        </div>
      </paper-shadow>
    </section-group>
  </template>
  <script src="reserve-subpage.js"></script>
</polymer-element>
